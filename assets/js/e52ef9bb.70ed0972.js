"use strict";(globalThis.webpackChunkk_8_s_security=globalThis.webpackChunkk_8_s_security||[]).push([[9665],{342(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"best_practices/cluster_setup_and_hardening/network_security/gateway_api","title":"Gateway API Security","description":"Secure Kubernetes traffic routing with Gateway API v1.4, the modern successor to Ingress with enhanced security features and role-based access control.","source":"@site/docs/best_practices/cluster_setup_and_hardening/network_security/gateway_api.md","sourceDirName":"best_practices/cluster_setup_and_hardening/network_security","slug":"/best_practices/cluster_setup_and_hardening/network_security/gateway_api","permalink":"/docs/best_practices/cluster_setup_and_hardening/network_security/gateway_api","draft":false,"unlisted":false,"editUrl":"https://github.com/geek-kb/k8s_security/edit/main/docs/best_practices/cluster_setup_and_hardening/network_security/gateway_api.md","tags":[],"version":"current","lastUpdatedBy":"Itai Ganot","lastUpdatedAt":1770102262000,"sidebarPosition":7,"frontMatter":{"title":"Gateway API Security","description":"Secure Kubernetes traffic routing with Gateway API v1.4, the modern successor to Ingress with enhanced security features and role-based access control.","sidebar_position":7,"keywords":["kubernetes security best practices","gateway API","traffic routing","ingress alternative","RBAC","TLS termination","kubernetes networking","API gateway","CKS"]},"sidebar":"default","previous":{"title":"Ingress Security","permalink":"/docs/best_practices/cluster_setup_and_hardening/network_security/ingress_security"},"next":{"title":"Network Policies","permalink":"/docs/best_practices/cluster_setup_and_hardening/network_security/network_policies"}}');var t=s(4848),a=s(8453);const i={title:"Gateway API Security",description:"Secure Kubernetes traffic routing with Gateway API v1.4, the modern successor to Ingress with enhanced security features and role-based access control.",sidebar_position:7,keywords:["kubernetes security best practices","gateway API","traffic routing","ingress alternative","RBAC","TLS termination","kubernetes networking","API gateway","CKS"]},c="Gateway API Security",l={},o=[{value:"1. Gateway API Overview",id:"1-gateway-api-overview",level:2},{value:"Security Benefits Over Ingress",id:"security-benefits-over-ingress",level:3},{value:"2. Secure Gateway Configuration",id:"2-secure-gateway-configuration",level:2},{value:"Example: TLS-Enabled Gateway",id:"example-tls-enabled-gateway",level:3},{value:"Security Highlights",id:"security-highlights",level:3},{value:"3. HTTPRoute with Security Headers",id:"3-httproute-with-security-headers",level:2},{value:"4. Cross-Namespace Routing with ReferenceGrants",id:"4-cross-namespace-routing-with-referencegrants",level:2},{value:"ReferenceGrant Security Best Practices",id:"referencegrant-security-best-practices",level:3},{value:"5. Rate Limiting and Request Filtering",id:"5-rate-limiting-and-request-filtering",level:2},{value:"Example: Rate Limiting Policy (Implementation-Specific)",id:"example-rate-limiting-policy-implementation-specific",level:3},{value:"6. TLS Policy Enforcement",id:"6-tls-policy-enforcement",level:2},{value:"Example: TLS Passthrough",id:"example-tls-passthrough",level:3},{value:"Backend TLS Verification",id:"backend-tls-verification",level:3},{value:"7. Monitoring and Observability",id:"7-monitoring-and-observability",level:2},{value:"Recommended Metrics to Monitor",id:"recommended-metrics-to-monitor",level:3},{value:"Integration with Prometheus",id:"integration-with-prometheus",level:3},{value:"8. RBAC for Gateway API Resources",id:"8-rbac-for-gateway-api-resources",level:2},{value:"Example: Infrastructure Admin Role",id:"example-infrastructure-admin-role",level:3},{value:"Example: Application Developer Role",id:"example-application-developer-role",level:3},{value:"9. Migrating from Ingress to Gateway API",id:"9-migrating-from-ingress-to-gateway-api",level:2},{value:"Migration Strategy",id:"migration-strategy",level:3},{value:"Example Ingress to HTTPRoute Conversion",id:"example-ingress-to-httproute-conversion",level:3},{value:"10. Security Checklist for Gateway API",id:"10-security-checklist-for-gateway-api",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"gateway-api-security",children:"Gateway API Security"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Gateway API"})," is Kubernetes' next-generation approach to traffic routing and ingress management. As of ",(0,t.jsx)(n.strong,{children:"October 2025"}),", Gateway API ",(0,t.jsx)(n.strong,{children:"v1.4"})," reached ",(0,t.jsx)(n.strong,{children:"General Availability (GA)"}),", providing a more expressive, flexible, and security-focused alternative to traditional Ingress resources."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Traditional Ingress resources have limited expressiveness and lack fine-grained RBAC, making it difficult to implement advanced routing policies and multi-tenancy securely.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Gateway API provides role-oriented design with separate resources for infrastructure admins and application developers, enabling secure multi-tenant configurations."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-gateway-api-overview",children:"1. Gateway API Overview"}),"\n",(0,t.jsx)(n.p,{children:"Gateway API introduces three core resources that separate concerns between cluster operators and application developers:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GatewayClass"})," - Defines infrastructure-level configuration (managed by cluster admins)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gateway"})," - Represents a load balancer or proxy (managed by infrastructure teams)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTTPRoute/TLSRoute/TCPRoute"})," - Defines routing rules (managed by application teams)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"security-benefits-over-ingress",children:"Security Benefits Over Ingress"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Ingress controllers often require cluster-wide permissions and lack standardized security features.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Gateway API provides:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Role-based resource ownership and RBAC separation"}),"\n",(0,t.jsx)(n.li,{children:"Native support for multiple attachment points and cross-namespace routing with explicit ReferenceGrants"}),"\n",(0,t.jsx)(n.li,{children:"Built-in TLS configuration at the Gateway level"}),"\n",(0,t.jsx)(n.li,{children:"Enhanced request/response header manipulation for security headers"}),"\n",(0,t.jsx)(n.li,{children:"Support for multiple gateway implementations with consistent security patterns"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-secure-gateway-configuration",children:"2. Secure Gateway Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"example-tls-enabled-gateway",children:"Example: TLS-Enabled Gateway"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: Gateway\nmetadata:\n  name: secure-gateway\n  namespace: infra\nspec:\n  gatewayClassName: external-gateway\n  listeners:\n    - name: https\n      protocol: HTTPS\n      port: 443\n      hostname: "*.example.com"\n      tls:\n        mode: Terminate\n        certificateRefs:\n          - name: example-com-cert\n            kind: Secret\n      allowedRoutes:\n        namespaces:\n          from: Selector\n          selector:\n            matchLabels:\n              gateway-access: "true"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"security-highlights",children:"Security Highlights"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TLS termination"})," at the Gateway level"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Namespace selector"})," restricts which namespaces can attach routes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Certificate references"})," use standard Kubernetes Secrets"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hostname wildcards"})," with proper validation"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-httproute-with-security-headers",children:"3. HTTPRoute with Security Headers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Applications may not properly set security headers, exposing them to XSS, clickjacking, and other attacks.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Use HTTPRoute to enforce security headers at the gateway level."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: HTTPRoute\nmetadata:\n  name: secure-app-route\n  namespace: app-namespace\nspec:\n  parentRefs:\n    - name: secure-gateway\n      namespace: infra\n  hostnames:\n    - "app.example.com"\n  rules:\n    - matches:\n        - path:\n            type: PathPrefix\n            value: /api\n      filters:\n        - type: ResponseHeaderModifier\n          responseHeaderModifier:\n            add:\n              - name: Strict-Transport-Security\n                value: "max-age=31536000; includeSubDomains"\n              - name: X-Frame-Options\n                value: "DENY"\n              - name: X-Content-Type-Options\n                value: "nosniff"\n              - name: Content-Security-Policy\n                value: "default-src \'self\'"\n      backendRefs:\n        - name: backend-service\n          port: 8080\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-cross-namespace-routing-with-referencegrants",children:"4. Cross-Namespace Routing with ReferenceGrants"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Allowing unrestricted cross-namespace references can lead to privilege escalation and unauthorized access.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Use ",(0,t.jsx)(n.strong,{children:"ReferenceGrants"})," to explicitly allow cross-namespace references."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1beta1\nkind: ReferenceGrant\nmetadata:\n  name: allow-infra-gateway\n  namespace: infra\nspec:\n  from:\n    - group: gateway.networking.k8s.io\n      kind: HTTPRoute\n      namespace: app-namespace\n  to:\n    - group: ""\n      kind: Service\n      name: backend-service\n'})}),"\n",(0,t.jsx)(n.h3,{id:"referencegrant-security-best-practices",children:"ReferenceGrant Security Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Principle of Least Privilege"})," - Only grant access to specific services, not all services in a namespace"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Explicit Allow Lists"})," - Never use wildcards or broad namespace selectors"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Regular Audits"})," - Review ReferenceGrants periodically to remove unused permissions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Namespace Isolation"})," - Use separate Gateways for different trust zones"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-rate-limiting-and-request-filtering",children:"5. Rate Limiting and Request Filtering"}),"\n",(0,t.jsx)(n.p,{children:"Gateway API v1.4 supports advanced traffic management features through implementation-specific policies:"}),"\n",(0,t.jsx)(n.h3,{id:"example-rate-limiting-policy-implementation-specific",children:"Example: Rate Limiting Policy (Implementation-Specific)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: HTTPRoute\nmetadata:\n  name: rate-limited-route\n  namespace: app-namespace\nspec:\n  parentRefs:\n    - name: secure-gateway\n      namespace: infra\n  hostnames:\n    - "api.example.com"\n  rules:\n    - matches:\n        - path:\n            type: PathPrefix\n            value: /public\n      filters:\n        - type: ExtensionRef\n          extensionRef:\n            group: gateway.envoyproxy.io\n            kind: RateLimitFilter\n            name: global-rate-limit\n      backendRefs:\n        - name: api-service\n          port: 8080\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," Rate limiting implementations vary by Gateway provider (Envoy Gateway, Istio, Cilium, etc.). Consult your Gateway implementation's documentation."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"6-tls-policy-enforcement",children:"6. TLS Policy Enforcement"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Backends may communicate over unencrypted connections, exposing sensitive data.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Configure ",(0,t.jsx)(n.strong,{children:"TLS passthrough"})," or ",(0,t.jsx)(n.strong,{children:"backend TLS"})," verification."]}),"\n",(0,t.jsx)(n.h3,{id:"example-tls-passthrough",children:"Example: TLS Passthrough"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: Gateway\nmetadata:\n  name: tls-passthrough-gateway\n  namespace: infra\nspec:\n  gatewayClassName: internal-gateway\n  listeners:\n    - name: tls-passthrough\n      protocol: TLS\n      port: 443\n      hostname: "secure-backend.example.com"\n      tls:\n        mode: Passthrough\n      allowedRoutes:\n        kinds:\n          - kind: TLSRoute\n'})}),"\n",(0,t.jsx)(n.h3,{id:"backend-tls-verification",children:"Backend TLS Verification"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1alpha2\nkind: BackendTLSPolicy\nmetadata:\n  name: verify-backend-tls\n  namespace: app-namespace\nspec:\n  targetRef:\n    group: ""\n    kind: Service\n    name: backend-service\n  tls:\n    caCertRefs:\n      - name: backend-ca-cert\n        kind: ConfigMap\n    hostname: backend.internal.svc.cluster.local\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"7-monitoring-and-observability",children:"7. Monitoring and Observability"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Without visibility into Gateway traffic, detecting attacks and anomalies is difficult.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Enable metrics, logging, and tracing at the Gateway level."]}),"\n",(0,t.jsx)(n.h3,{id:"recommended-metrics-to-monitor",children:"Recommended Metrics to Monitor"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request rate per route"})," - Detect unusual traffic patterns"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error rates (4xx, 5xx)"})," - Identify application or security issues"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TLS handshake failures"})," - Detect certificate problems or attacks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request latency"})," - Identify performance degradation or DDoS"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connection count"})," - Monitor for connection exhaustion attacks"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"integration-with-prometheus",children:"Integration with Prometheus"}),"\n",(0,t.jsx)(n.p,{children:"Most Gateway implementations expose Prometheus metrics:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: gateway-metrics\n  namespace: infra\n  labels:\n    app: gateway\nspec:\n  selector:\n    app: gateway-controller\n  ports:\n    - name: metrics\n      port: 9090\n      targetPort: 9090\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"ServiceMonitor Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: gateway-monitor\n  namespace: infra\nspec:\n  selector:\n    matchLabels:\n      app: gateway\n  endpoints:\n    - port: metrics\n      interval: 30s\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"8-rbac-for-gateway-api-resources",children:"8. RBAC for Gateway API Resources"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Allowing all users to create Gateways or modify routes can lead to misconfigurations and security bypasses.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Implement strict RBAC policies separating infrastructure and application concerns."]}),"\n",(0,t.jsx)(n.h3,{id:"example-infrastructure-admin-role",children:"Example: Infrastructure Admin Role"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: gateway-admin\nrules:\n  - apiGroups: ["gateway.networking.k8s.io"]\n    resources: ["gatewayclasses", "gateways"]\n    verbs: ["create", "update", "patch", "delete", "get", "list", "watch"]\n  - apiGroups: ["gateway.networking.k8s.io"]\n    resources: ["referencegrants"]\n    verbs: ["create", "update", "patch", "delete", "get", "list", "watch"]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"example-application-developer-role",children:"Example: Application Developer Role"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  name: httproute-manager\n  namespace: app-namespace\nrules:\n  - apiGroups: ["gateway.networking.k8s.io"]\n    resources: ["httproutes", "grpcroutes"]\n    verbs: ["create", "update", "patch", "delete", "get", "list", "watch"]\n  - apiGroups: [""]\n    resources: ["services"]\n    verbs: ["get", "list"]\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"9-migrating-from-ingress-to-gateway-api",children:"9. Migrating from Ingress to Gateway API"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Issue:"})," Ingress NGINX is reaching end-of-life (March 2026), requiring migration to modern alternatives.",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.strong,{children:"Fix:"})," Plan and execute a gradual migration to Gateway API."]}),"\n",(0,t.jsx)(n.h3,{id:"migration-strategy",children:"Migration Strategy"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assess Current Ingress Resources"})," - Inventory all Ingress objects and their configurations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Choose a Gateway Implementation"})," - Select based on your needs:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Envoy Gateway"})," - CNCF project, feature-rich"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Istio Gateway"})," - If already using Istio service mesh"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cilium Gateway"})," - Integrated with Cilium CNI"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Kong Gateway"})," - Enterprise features and plugins"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create Equivalent HTTPRoutes"})," - Convert Ingress rules to HTTPRoute resources"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test in Parallel"})," - Run both Ingress and Gateway configurations simultaneously"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gradual Cutover"})," - Migrate traffic incrementally using DNS or load balancer updates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Decommission Ingress"})," - Remove old Ingress resources once migration is complete"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-ingress-to-httproute-conversion",children:"Example Ingress to HTTPRoute Conversion"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Old Ingress:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: app-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\nspec:\n  tls:\n    - hosts:\n        - app.example.com\n      secretName: app-tls\n  rules:\n    - host: app.example.com\n      http:\n        paths:\n          - path: /api\n            pathType: Prefix\n            backend:\n              service:\n                name: api-service\n                port:\n                  number: 8080\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"New HTTPRoute:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: HTTPRoute\nmetadata:\n  name: app-route\nspec:\n  parentRefs:\n    - name: production-gateway\n  hostnames:\n    - "app.example.com"\n  rules:\n    - matches:\n        - path:\n            type: PathPrefix\n            value: /api\n      filters:\n        - type: URLRewrite\n          urlRewrite:\n            path:\n              type: ReplacePrefixMatch\n              replacePrefixMatch: /\n      backendRefs:\n        - name: api-service\n          port: 8080\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"10-security-checklist-for-gateway-api",children:"10. Security Checklist for Gateway API"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u2705 Use ",(0,t.jsx)(n.strong,{children:"TLS termination"})," for all public-facing Gateways"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Implement ",(0,t.jsx)(n.strong,{children:"namespace selectors"})," to restrict route attachment"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Configure ",(0,t.jsx)(n.strong,{children:"ReferenceGrants"})," for all cross-namespace references"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Enforce ",(0,t.jsx)(n.strong,{children:"security headers"})," using ResponseHeaderModifier filters"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Enable ",(0,t.jsx)(n.strong,{children:"rate limiting"})," to prevent abuse and DDoS"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Configure ",(0,t.jsx)(n.strong,{children:"backend TLS verification"})," for internal services"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Implement ",(0,t.jsx)(n.strong,{children:"RBAC separation"})," between infrastructure and application teams"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Monitor ",(0,t.jsx)(n.strong,{children:"Gateway metrics"})," for anomalies and attacks"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Use ",(0,t.jsx)(n.strong,{children:"GatewayClass"})," parameters to enforce organizational policies"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Regularly ",(0,t.jsx)(n.strong,{children:"audit ReferenceGrants"})," and route configurations"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 Plan ",(0,t.jsx)(n.strong,{children:"migration from Ingress"})," before EOL (March 2026)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://gateway-api.sigs.k8s.io/",children:"Gateway API Official Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://gateway-api.sigs.k8s.io/concepts/security-model/",children:"Gateway API Security Model"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/kubernetes-sigs/gateway-api",children:"Kubernetes SIG Network"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://gateway-api.sigs.k8s.io/implementations/",children:"Gateway API Implementations"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsx)(n.p,{children:"This article is based on information from the following official sources:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://gateway-api.sigs.k8s.io/",children:"Gateway API Documentation"})," - Kubernetes SIG Network"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://gateway-api.sigs.k8s.io/concepts/security-model/",children:"Gateway API Security Model"})," - Kubernetes SIG Network"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://gateway-api.sigs.k8s.io/api-types/referencegrant/",children:"ReferenceGrant"})," - Kubernetes SIG Network"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://kubernetes.io/docs/reference/access-authn-authz/rbac/",children:"Using RBAC Authorization"})," - Kubernetes Documentation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>i,x:()=>c});var r=s(6540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);