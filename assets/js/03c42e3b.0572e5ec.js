"use strict";(self.webpackChunkk_8_s_security=self.webpackChunkk_8_s_security||[]).push([[1497],{3492:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"fundamentals/authorization/authorization_methods","title":"Authorization Methods","description":"What is Authorization?","source":"@site/docs/fundamentals/authorization/authorization_methods.md","sourceDirName":"fundamentals/authorization","slug":"/fundamentals/authorization/authorization_methods","permalink":"/k8s_security/docs/fundamentals/authorization/authorization_methods","draft":false,"unlisted":false,"editUrl":"https://github.com/geek-kb/k8s_security/edit/main/docs/fundamentals/authorization/authorization_methods.md","tags":[],"version":"current","lastUpdatedBy":"Itai Ganot","sidebarPosition":1,"frontMatter":{"title":"Authorization Methods","sidebar_position":1},"sidebar":"default","previous":{"title":"Certificates","permalink":"/k8s_security/docs/fundamentals/authentication/certificates"},"next":{"title":"Role-Based Access Control (RBAC)","permalink":"/k8s_security/docs/fundamentals/authorization/rbac"}}');var i=s(4848),o=s(8453);const t={title:"Authorization Methods",sidebar_position:1},a="Authorization in Kubernetes",c={},l=[{value:"What is Authorization?",id:"what-is-authorization",level:2},{value:"Types of Authorization Mechanisms in Kubernetes",id:"types-of-authorization-mechanisms-in-kubernetes",level:2},{value:"1. Role-Based Access Control (RBAC)",id:"1-role-based-access-control-rbac",level:3},{value:"2. Attribute-Based Access Control (ABAC)",id:"2-attribute-based-access-control-abac",level:3},{value:"3. Node Authorization",id:"3-node-authorization",level:3},{value:"4. Webhook Authorization",id:"4-webhook-authorization",level:3},{value:"Best Practices for Authorization",id:"best-practices-for-authorization",level:2},{value:"Conclusion: Authorization as the Key to Secure Access Control",id:"conclusion-authorization-as-the-key-to-secure-access-control",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"authorization-in-kubernetes",children:"Authorization in Kubernetes"})}),"\n",(0,i.jsx)(n.h2,{id:"what-is-authorization",children:"What is Authorization?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authorization"})," in Kubernetes determines whether a ",(0,i.jsx)(n.strong,{children:"user"}),", ",(0,i.jsx)(n.strong,{children:"service account"}),", or ",(0,i.jsx)(n.strong,{children:"component"})," is allowed to perform a specific ",(0,i.jsx)(n.strong,{children:"action"})," on a given ",(0,i.jsx)(n.strong,{children:"resource"}),". Once authentication verifies ",(0,i.jsx)(n.strong,{children:"who you are"}),", authorization ensures you have the necessary ",(0,i.jsx)(n.strong,{children:"permissions"})," to proceed."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"types-of-authorization-mechanisms-in-kubernetes",children:"Types of Authorization Mechanisms in Kubernetes"}),"\n",(0,i.jsxs)(n.p,{children:["Kubernetes supports multiple authorization mechanisms to ",(0,i.jsx)(n.strong,{children:"control access"})," and ",(0,i.jsx)(n.strong,{children:"enforce policies"})," effectively."]}),"\n",(0,i.jsx)(n.h3,{id:"1-role-based-access-control-rbac",children:"1. Role-Based Access Control (RBAC)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Required knowledge for the CKS certification."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Grants permissions based on ",(0,i.jsx)(n.strong,{children:"Roles"})," and ",(0,i.jsx)(n.strong,{children:"RoleBindings"}),".",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Defines ",(0,i.jsx)(n.strong,{children:"who can do what"})," within a ",(0,i.jsx)(n.strong,{children:"namespace"})," or ",(0,i.jsx)(n.strong,{children:"cluster-wide"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Example: Creating an RBAC Role and RoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  name: pod-reader\n  namespace: default\nrules:\n  - apiGroups: [""]\n    resources: ["pods"]\n    verbs: ["get", "list", "watch"]\n\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: pod-reader-binding\n  namespace: default\nsubjects:\n  - kind: User\n    name: example-user\n    apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: pod-reader\n  apiGroup: rbac.authorization.k8s.io\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/docs/fundamentals/authorization/rbac",children:"Read more about RBAC"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"2-attribute-based-access-control-abac",children:"2. Attribute-Based Access Control (ABAC)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Uses ",(0,i.jsx)(n.strong,{children:"policy files"})," to define access rules.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Provides ",(0,i.jsx)(n.strong,{children:"fine-grained access control"})," but lacks ",(0,i.jsx)(n.strong,{children:"scalability"})," compared to RBAC."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "apiVersion": "abac.authorization.kubernetes.io/v1beta1",\n  "kind": "Policy",\n  "spec": {\n    "user": "example-user",\n    "namespace": "default",\n    "resource": "pods",\n    "readonly": true\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Configure the ",(0,i.jsx)(n.strong,{children:"API server"})," to use ABAC:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kube-apiserver --authorization-policy-file=policy.json --authorization-mode=ABAC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/docs/fundamentals/authorization/abac",children:"Read more about ABAC"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"3-node-authorization",children:"3. Node Authorization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Required knowledge for the CKS certification."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Allows ",(0,i.jsx)(n.strong,{children:"Kubelets"})," to access ",(0,i.jsx)(n.strong,{children:"specific resources"})," on behalf of ",(0,i.jsx)(n.strong,{children:"nodes"}),".",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Ensures nodes cannot modify objects ",(0,i.jsx)(n.strong,{children:"outside their scope"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Example: Node authorization rule for reading secrets\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  name: node-reader\n  namespace: kube-system\nrules:\n  - apiGroups: [""]\n    resources: ["secrets"]\n    verbs: ["get", "list"]\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["API server configuration for ",(0,i.jsx)(n.strong,{children:"Node Authorization"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kube-apiserver --authorization-mode=Node,RBAC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/docs/fundamentals/authorization/node_authorization",children:"Read more about Node Authorization"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"4-webhook-authorization",children:"4. Webhook Authorization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Required knowledge for the CKS certification."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Delegates ",(0,i.jsx)(n.strong,{children:"authorization decisions"})," to an ",(0,i.jsx)(n.strong,{children:"external API"}),".",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Useful for ",(0,i.jsx)(n.strong,{children:"custom access control"})," scenarios."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Example webhook authorization configuration\napiVersion: v1\nkind: Config\nclusters:\n  - name: webhook\n    cluster:\n      server: https://auth.example.com/authorize\nusers:\n  - name: webhook\ncontexts:\n  - name: webhook\n    context:\n      cluster: webhook\n      user: webhook\ncurrent-context: webhook\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"API server configuration for Webhook Authorization:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kube-apiserver --authorization-mode=Webhook --authorization-webhook-config-file=/etc/kubernetes/authz-webhook-config.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/docs/fundamentals/authorization/webhook_authorization",children:"Read more about Webhook Authorization"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"best-practices-for-authorization",children:"Best Practices for Authorization"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use RBAC Instead of ABAC:"}),(0,i.jsx)("br",{}),"\nRBAC is ",(0,i.jsx)(n.strong,{children:"scalable"}),", ",(0,i.jsx)(n.strong,{children:"manageable"}),", and ",(0,i.jsx)(n.strong,{children:"better integrated"})," with Kubernetes security."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Grant Least Privilege:"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Assign ",(0,i.jsx)(n.strong,{children:"minimal permissions"})," to ",(0,i.jsx)(n.strong,{children:"users"})," and ",(0,i.jsx)(n.strong,{children:"service accounts"}),".",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Regularly review and update ",(0,i.jsx)(n.strong,{children:"RoleBindings"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Restrict Node Access:"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ensure ",(0,i.jsx)(n.strong,{children:"nodes"})," only access ",(0,i.jsx)(n.strong,{children:"their assigned workloads"}),".",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Limit ",(0,i.jsx)(n.strong,{children:"Kubelet permissions"})," to avoid ",(0,i.jsx)(n.strong,{children:"privilege escalation"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Secure API Server Authorization Modes:"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Always ",(0,i.jsx)(n.strong,{children:"enable RBAC"})," (",(0,i.jsx)(n.code,{children:"--authorization-mode=RBAC"}),").",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.strong,{children:"Webhook Authorization"})," for ",(0,i.jsx)(n.strong,{children:"external access control"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Example: Enforcing RBAC and Webhook Authorization\nkube-apiserver --authorization-mode=RBAC,Webhook\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"conclusion-authorization-as-the-key-to-secure-access-control",children:"Conclusion: Authorization as the Key to Secure Access Control"}),"\n",(0,i.jsxs)(n.p,{children:["Authorization ensures that only ",(0,i.jsx)(n.strong,{children:"trusted users"})," and ",(0,i.jsx)(n.strong,{children:"components"})," can perform specific ",(0,i.jsx)(n.strong,{children:"actions"})," in a Kubernetes cluster. Properly configuring ",(0,i.jsx)(n.strong,{children:"RBAC"}),", ",(0,i.jsx)(n.strong,{children:"Node Authorization"}),", and ",(0,i.jsx)(n.strong,{children:"Webhook Authorization"})," helps prevent ",(0,i.jsx)(n.strong,{children:"unauthorized access"}),", ",(0,i.jsx)(n.strong,{children:"privilege escalation"}),", and ",(0,i.jsx)(n.strong,{children:"security breaches"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var r=s(6540);const i={},o=r.createContext(i);function t(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);