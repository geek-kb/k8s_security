"use strict";(self.webpackChunkk_8_s_security=self.webpackChunkk_8_s_security||[]).push([[3195],{5649:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"best_practices/cluster_setup_and_hardening/intro","title":"Introduction","description":"Overview of cluster setup and hardening practices in Kubernetes, covering the critical domains necessary to build a secure and resilient environment.","source":"@site/docs/best_practices/cluster_setup_and_hardening/intro.md","sourceDirName":"best_practices/cluster_setup_and_hardening","slug":"/best_practices/cluster_setup_and_hardening/intro","permalink":"/docs/best_practices/cluster_setup_and_hardening/intro","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Itai Ganot","lastUpdatedAt":1743363705000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Introduction","description":"Overview of cluster setup and hardening practices in Kubernetes, covering the critical domains necessary to build a secure and resilient environment.","sidebar_class_name":"hidden"},"sidebar":"default","previous":{"title":"Introduction","permalink":"/docs/best_practices/intro"},"next":{"title":"Introduction","permalink":"/docs/best_practices/cluster_setup_and_hardening/intro"}}');var i=n(4848),t=n(8453);const c={sidebar_position:1,title:"Introduction",description:"Overview of cluster setup and hardening practices in Kubernetes, covering the critical domains necessary to build a secure and resilient environment.",sidebar_class_name:"hidden"},a="Cluster Setup and Hardening",o={},d=[{value:"API Server Security",id:"api-server-security",level:2},{value:"CIS",id:"cis",level:2},{value:"Configuration Validation",id:"configuration-validation",level:2},{value:"Control Plane Security",id:"control-plane-security",level:2},{value:"Network Security",id:"network-security",level:2},{value:"Node Security",id:"node-security",level:2},{value:"Pod Security",id:"pod-security",level:2},{value:"RBAC and Identity",id:"rbac-and-identity",level:2},{value:"Secrets Management",id:"secrets-management",level:2},{value:"Conclusion",id:"conclusion",level:2}];function l(e){const s={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"cluster-setup-and-hardening",children:"Cluster Setup and Hardening"})}),"\n",(0,i.jsx)(s.p,{children:"Securing a Kubernetes cluster begins with a hardened configuration across its core components. This section provides comprehensive best practices to secure the control plane, API server, network communication, nodes, pods, and access control mechanisms. Each subsection maps to a common attack surface and includes mitigation guidance and practical tooling examples."}),"\n",(0,i.jsx)(s.p,{children:"Following these practices reduces the risk of compromise, supports defense-in-depth, and helps meet compliance frameworks such as the CIS Kubernetes Benchmark."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"api-server-security",children:"API Server Security"}),"\n",(0,i.jsx)(s.p,{children:"Harden the Kubernetes API server to reduce exposure and control access:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/api_server_security/compromised_api_server_mitigation",children:"Compromised API Server Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Identifies common API server attack paths and ways to protect the control plane interface."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/api_server_security/misconfigured_admission_controllers_mitigation",children:"Misconfigured Admission Controllers Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Secures admission control plugins to prevent insecure resource creation."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/api_server_security/opa_gatekeeper",children:"OPA/Gatekeeper"}),(0,i.jsx)(s.br,{}),"\n","Defines and enforces custom policies at admission time."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/api_server_security/kyverno",children:"Kyverno"}),(0,i.jsx)(s.br,{}),"\n","A Kubernetes-native policy engine for validation, mutation, and generation."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"cis",children:"CIS"}),"\n",(0,i.jsx)(s.p,{children:"Use CIS Benchmarks to validate your cluster's security posture:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/cis/understanding_cis_benchmarks",children:"Understanding CIS Benchmarks"}),(0,i.jsx)(s.br,{}),"\n","Overview of the CIS framework, structure, and importance in Kubernetes."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/cis/cis_benchmark_for_k8s",children:"CIS Benchmark for Kubernetes"}),(0,i.jsx)(s.br,{}),"\n","Manual hardening guidance for API server, etcd, kubelet, and scheduler."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/cis/cis_benchmark_kube_bench",children:"CIS Benchmark with kube-bench"}),(0,i.jsx)(s.br,{}),"\n","Using ",(0,i.jsx)(s.code,{children:"kube-bench"})," to run automated checks for CIS compliance."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"configuration-validation",children:"Configuration Validation"}),"\n",(0,i.jsx)(s.p,{children:"Validate YAML manifests and infrastructure code for misconfigurations before deployment:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/kube_score",children:"Kube-Score"}),(0,i.jsx)(s.br,{}),"\n","Scores manifests based on configuration quality and best practices."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/kubescape",children:"Kubescape"}),(0,i.jsx)(s.br,{}),"\n","Scans Kubernetes clusters for misconfigurations and compliance violations."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/polaris",children:"Polaris"}),(0,i.jsx)(s.br,{}),"\n","Checks Kubernetes manifests and live clusters for reliability and security issues."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/kube_linter",children:"Kube-Linter"}),(0,i.jsx)(s.br,{}),"\n","Identifies incorrect or insecure configurations in YAML files."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/checkov",children:"Checkov"}),(0,i.jsx)(s.br,{}),"\n","Static analysis for Kubernetes and Terraform configuration files."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/conftest",children:"Conftest"}),(0,i.jsx)(s.br,{}),"\n","Uses OPA to validate Kubernetes manifests as part of CI/CD workflows."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/configuration_validation/terrascan",children:"Terrascan"}),(0,i.jsx)(s.br,{}),"\n","Scans Terraform and Kubernetes configurations for security violations."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"control-plane-security",children:"Control Plane Security"}),"\n",(0,i.jsx)(s.p,{children:"Protect the cluster's core components and maintain data integrity:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/control_plane_security/etcd_security_mitigation",children:"etcd Security Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Encrypt and restrict access to etcd, the Kubernetes key-value store."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"network-security",children:"Network Security"}),"\n",(0,i.jsx)(s.p,{children:"Control traffic flow, minimize exposure, and secure ingress/egress:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/ddos_mitigation",children:"DDoS Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Prevent denial-of-service attacks using rate limits and protection mechanisms."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/dns_security",children:"DNS Security"}),(0,i.jsx)(s.br,{}),"\n","Harden CoreDNS and internal name resolution."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/egress_control",children:"Egress Control"}),(0,i.jsx)(s.br,{}),"\n","Limit external access from workloads to reduce data exfiltration risk."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/exposed_dashboard_mitigation",children:"Exposed Dashboard Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Restrict and secure access to the Kubernetes Dashboard."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/ingress_security",children:"Ingress Security"}),(0,i.jsx)(s.br,{}),"\n","Apply protections at the ingress layer for authentication and filtering."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/network_policies",children:"Network Policies"}),(0,i.jsx)(s.br,{}),"\n","Define pod-level traffic rules to isolate services."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/service_mesh_security",children:"Service Mesh Security"}),(0,i.jsx)(s.br,{}),"\n","Use service mesh controls for mutual TLS and policy enforcement."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/traffic_hijacking_mitigation",children:"Traffic Hijacking Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Prevent redirection or injection attacks at the network level."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/kube_hunter",children:"Kube-Hunter"}),(0,i.jsx)(s.br,{}),"\n","Run penetration testing against your cluster to identify exposure."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/cilium",children:"Cilium"}),(0,i.jsx)(s.br,{}),"\n","eBPF-based networking with fine-grained visibility and policy enforcement."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/calico",children:"Calico"}),(0,i.jsx)(s.br,{}),"\n","Enforce ingress/egress network policies with minimal overhead."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/network_security/kong",children:"Kong"}),(0,i.jsx)(s.br,{}),"\n","Gateway and API management with advanced traffic controls."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"node-security",children:"Node Security"}),"\n",(0,i.jsx)(s.p,{children:"Secure the infrastructure running your workloads:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/node_security/kubelet_security",children:"Kubelet Security"}),(0,i.jsx)(s.br,{}),"\n","Disable anonymous access and protect kubelet APIs."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"pod-security",children:"Pod Security"}),"\n",(0,i.jsx)(s.p,{children:"Enforce strict security boundaries within workloads:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/app_armor_profiles",children:"AppArmor Profiles"}),(0,i.jsx)(s.br,{}),"\n","Apply syscall restrictions through AppArmor policies."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/compromised_sidecars_mitigation",children:"Compromised Sidecars Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Prevent lateral movement via insecure sidecars."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/container_escape_mitigation",children:"Container Escape Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Detect and block breakout attempts from containers to the host."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/csi_driver_mitigation",children:"CSI Driver Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Limit the capabilities of custom storage drivers."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/pod_sandboxing",children:"Pod Sandboxing"}),(0,i.jsx)(s.br,{}),"\n","Isolate pods with technologies like gVisor or Kata Containers."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/pod_security_standards",children:"Pod Security Standards"}),(0,i.jsx)(s.br,{}),"\n","Enforce Baseline and Restricted policies with Pod Security Admission."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/seccomp_in_pods",children:"Seccomp in Pods"}),(0,i.jsx)(s.br,{}),"\n","Block dangerous syscalls using Seccomp profiles."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/unrestricted_hostpath_mitigation",children:"Unrestricted hostPath Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Prevent mounting arbitrary host directories."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/pod_security/kubeaudit",children:"KubeAudit"}),(0,i.jsx)(s.br,{}),"\n","Audit pods and controllers for misconfigured security contexts."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"rbac-and-identity",children:"RBAC and Identity"}),"\n",(0,i.jsx)(s.p,{children:"Use identity-aware access controls to enforce least privilege:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/rbac_and_identity/insecure_rbac_permissions_mitigation",children:"Insecure RBAC Permissions Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Avoid privilege escalation via role misconfiguration."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/rbac_and_identity/service_account_mitigation",children:"Service Account Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Secure service accounts and restrict token usage."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"secrets-management",children:"Secrets Management"}),"\n",(0,i.jsx)(s.p,{children:"Protect sensitive credentials and reduce the blast radius of compromise:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/secrets_management/insecure_secrets_management_mitigation",children:"Insecure Secrets Management Mitigation"}),(0,i.jsx)(s.br,{}),"\n","Encrypt secrets and restrict access via RBAC."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/secrets_management/mozilla_sops",children:"Mozilla SOPS"}),(0,i.jsx)(s.br,{}),"\n","Encrypt secrets for GitOps workflows using KMS, PGP, or GCP/AWS integrations."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/best_practices/cluster_setup_and_hardening/secrets_management/sealed_secrets",children:"Sealed Secrets"}),(0,i.jsx)(s.br,{}),"\n","Use Bitnami\u2019s controller to safely store secrets encrypted in Git."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(s.p,{children:"Cluster setup and hardening is the foundation of Kubernetes security. Addressing the risks in each layer \u2014 from API access to pod isolation \u2014 allows you to build a resilient and secure infrastructure. The articles in this section provide actionable guidance to harden your cluster and protect against real-world threats."})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>a});var r=n(6540);const i={},t=r.createContext(i);function c(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);