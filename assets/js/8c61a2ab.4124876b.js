"use strict";(self.webpackChunkk_8_s_security=self.webpackChunkk_8_s_security||[]).push([[2163],{5982:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"best_practices/supply_chain_security/cosign","title":"Cosign","description":"Cosign is a container signing and verification tool used to secure container images and enforce supply chain integrity.","source":"@site/docs/best_practices/supply_chain_security/cosign.md","sourceDirName":"best_practices/supply_chain_security","slug":"/best_practices/supply_chain_security/cosign","permalink":"/docs/best_practices/supply_chain_security/cosign","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Itai Ganot","lastUpdatedAt":1742842158000,"sidebarPosition":4,"frontMatter":{"title":"Cosign","description":"Cosign is a container signing and verification tool used to secure container images and enforce supply chain integrity.","sidebar_position":4},"sidebar":"default","previous":{"title":"Syft","permalink":"/docs/best_practices/supply_chain_security/syft"},"next":{"title":"Notation","permalink":"/docs/best_practices/supply_chain_security/notation"}}');var r=i(4848),t=i(8453);const o={title:"Cosign",description:"Cosign is a container signing and verification tool used to secure container images and enforce supply chain integrity.",sidebar_position:4},a="Cosign",c={},l=[{value:"Usage",id:"usage",level:2},{value:"1. Install Cosign",id:"1-install-cosign",level:3},{value:"2. Generate Key Pair (Optional)",id:"2-generate-key-pair-optional",level:3},{value:"3. Sign a Container Image",id:"3-sign-a-container-image",level:3},{value:"4. Verify a Signed Image",id:"4-verify-a-signed-image",level:3},{value:"5. Use with Kubernetes Admission Controller",id:"5-use-with-kubernetes-admission-controller",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Resources",id:"resources",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cosign",children:"Cosign"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cosign"})," is a ",(0,r.jsx)(n.strong,{children:"container image signing and verification tool"})," developed under the ",(0,r.jsx)(n.strong,{children:"Sigstore project"}),". It is used to ",(0,r.jsx)(n.strong,{children:"sign, verify, and store cryptographic signatures"})," of container images, improving supply chain security and enabling secure deployment workflows."]}),"\n",(0,r.jsxs)(n.p,{children:["Cosign allows you to sign container images using ",(0,r.jsx)(n.strong,{children:"keyless or key-based methods"}),", store signatures in ",(0,r.jsx)(n.strong,{children:"OCI registries"}),", and integrate signature verification into CI/CD pipelines and admission controllers."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"1-install-cosign",children:"1. Install Cosign"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"brew install cosign\n# or download from GitHub\ncurl -Lo cosign https://github.com/sigstore/cosign/releases/latest/download/cosign-linux-amd64\nchmod +x cosign\nsudo mv cosign /usr/local/bin\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-generate-key-pair-optional",children:"2. Generate Key Pair (Optional)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cosign generate-key-pair\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This creates ",(0,r.jsx)(n.code,{children:"cosign.key"})," and ",(0,r.jsx)(n.code,{children:"cosign.pub"})," for image signing and verification."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-sign-a-container-image",children:"3. Sign a Container Image"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cosign sign --key cosign.key docker.io/myorg/myimage:latest\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Cosign stores the signature as an ",(0,r.jsx)(n.strong,{children:"OCI artifact"})," in the same registry."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"4-verify-a-signed-image",children:"4. Verify a Signed Image"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cosign verify --key cosign.pub docker.io/myorg/myimage:latest\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.strong,{children:"keyless signing"}),", Cosign uses ",(0,r.jsx)(n.strong,{children:"OIDC identity providers"})," like GitHub or Google to sign images and verify identity."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"5-use-with-kubernetes-admission-controller",children:"5. Use with Kubernetes Admission Controller"}),"\n",(0,r.jsxs)(n.p,{children:["Cosign signatures can be used with ",(0,r.jsx)(n.strong,{children:"Sigstore\u2019s policy-controller"})," to enforce that only ",(0,r.jsx)(n.strong,{children:"verified, signed images"})," are admitted into the cluster."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"keyless signing"})," via OIDC for easier key management and identity traceability."]}),"\n",(0,r.jsxs)(n.li,{children:["Enable ",(0,r.jsx)(n.strong,{children:"Cosign signature verification"})," in CI pipelines and Kubernetes admission policies."]}),"\n",(0,r.jsx)(n.li,{children:"Store public keys securely and version them with your infrastructure."}),"\n",(0,r.jsxs)(n.li,{children:["Validate image signatures during deployment and enforce policies via ",(0,r.jsx)(n.strong,{children:"Gatekeeper"})," or ",(0,r.jsx)(n.strong,{children:"Kyverno"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Integrate Cosign with tools like ",(0,r.jsx)(n.strong,{children:"GitHub Actions"}),", ",(0,r.jsx)(n.strong,{children:"Tekton"}),", or ",(0,r.jsx)(n.strong,{children:"Flux"})," for automated signing."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Official Documentation:"})," ",(0,r.jsx)(n.a,{href:"https://docs.sigstore.dev/cosign",children:"https://docs.sigstore.dev/cosign"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub Repository:"})," ",(0,r.jsx)(n.a,{href:"https://github.com/sigstore/cosign",children:"https://github.com/sigstore/cosign"})]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);