"use strict";(globalThis.webpackChunkk_8_s_security=globalThis.webpackChunkk_8_s_security||[]).push([[6424],{6172(e,i,s){s.r(i),s.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"best-practices/supply-chain-security/cosign","title":"Cosign","description":"Cosign is a container signing and verification tool used to secure container images and enforce supply chain integrity.","source":"@site/docs/best-practices/supply-chain-security/cosign.md","sourceDirName":"best-practices/supply-chain-security","slug":"/best-practices/supply-chain-security/cosign","permalink":"/kubernetes-security/best-practices/supply-chain-security/cosign","draft":false,"unlisted":false,"editUrl":"https://github.com/geek-kb/k8s_security/edit/main/docs/best-practices/supply-chain-security/cosign.md","tags":[{"inline":true,"label":"tool","permalink":"/kubernetes-security/tags/tool"},{"inline":true,"label":"supply-chain","permalink":"/kubernetes-security/tags/supply-chain"},{"inline":true,"label":"signing","permalink":"/kubernetes-security/tags/signing"},{"inline":true,"label":"images","permalink":"/kubernetes-security/tags/images"},{"inline":true,"label":"CKS","permalink":"/kubernetes-security/tags/cks"}],"version":"current","lastUpdatedBy":"Itai Ganot","lastUpdatedAt":1771236448000,"sidebarPosition":4,"frontMatter":{"title":"Cosign","description":"Cosign is a container signing and verification tool used to secure container images and enforce supply chain integrity.","sidebar_position":4,"keywords":["kubernetes security tool","cosign","container signing","image verification","supply chain security","sigstore","container security","image signing","artifact signing","kubernetes supply chain"],"tags":["tool","supply-chain","signing","images","CKS"],"related":["/kubernetes-security/attack-vectors/supply-chain-attacks/","/kubernetes-security/best-practices/supply-chain-security/notation/","/kubernetes-security/best-practices/monitoring-logging-and-runtime-security/trivy/","/kubernetes-security/best-practices/supply-chain-security/sbom/"]},"sidebar":"default","previous":{"title":"Syft","permalink":"/kubernetes-security/best-practices/supply-chain-security/syft"},"next":{"title":"Notation","permalink":"/kubernetes-security/best-practices/supply-chain-security/notation"}}');var t=s(4848),r=s(8453);const o={title:"Cosign",description:"Cosign is a container signing and verification tool used to secure container images and enforce supply chain integrity.",sidebar_position:4,keywords:["kubernetes security tool","cosign","container signing","image verification","supply chain security","sigstore","container security","image signing","artifact signing","kubernetes supply chain"],tags:["tool","supply-chain","signing","images","CKS"],related:["/kubernetes-security/attack-vectors/supply-chain-attacks/","/kubernetes-security/best-practices/supply-chain-security/notation/","/kubernetes-security/best-practices/monitoring-logging-and-runtime-security/trivy/","/kubernetes-security/best-practices/supply-chain-security/sbom/"]},c="Cosign",a={},l=[{value:"Usage",id:"usage",level:2},{value:"1. Install Cosign",id:"1-install-cosign",level:3},{value:"2. Generate Key Pair (Optional)",id:"2-generate-key-pair-optional",level:3},{value:"3. Sign a Container Image",id:"3-sign-a-container-image",level:3},{value:"4. Verify a Signed Image",id:"4-verify-a-signed-image",level:3},{value:"5. Use with Kubernetes Admission Controller",id:"5-use-with-kubernetes-admission-controller",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Resources",id:"resources",level:2},{value:"References",id:"references",level:2}];function g(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"cosign",children:"Cosign"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Cosign"})," is a ",(0,t.jsx)(i.strong,{children:"container image signing and verification tool"})," developed under the ",(0,t.jsx)(i.strong,{children:"Sigstore project"}),". It is used to ",(0,t.jsx)(i.strong,{children:"sign, verify, and store cryptographic signatures"})," of container images, improving supply chain security and enabling secure deployment workflows."]}),"\n",(0,t.jsxs)(i.p,{children:["Cosign allows you to sign container images using ",(0,t.jsx)(i.strong,{children:"keyless or key-based methods"}),", store signatures in ",(0,t.jsx)(i.strong,{children:"OCI registries"}),", and integrate signature verification into CI/CD pipelines and admission controllers."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(i.h3,{id:"1-install-cosign",children:"1. Install Cosign"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"brew install cosign\n# or download from GitHub\ncurl -Lo cosign https://github.com/sigstore/cosign/releases/latest/download/cosign-linux-amd64\nchmod +x cosign\nsudo mv cosign /usr/local/bin\n"})}),"\n",(0,t.jsx)(i.h3,{id:"2-generate-key-pair-optional",children:"2. Generate Key Pair (Optional)"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"cosign generate-key-pair\n"})}),"\n",(0,t.jsxs)(i.p,{children:["This creates ",(0,t.jsx)(i.code,{children:"cosign.key"})," and ",(0,t.jsx)(i.code,{children:"cosign.pub"})," for image signing and verification."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"3-sign-a-container-image",children:"3. Sign a Container Image"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"cosign sign --key cosign.key docker.io/myorg/myimage:latest\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Cosign stores the signature as an ",(0,t.jsx)(i.strong,{children:"OCI artifact"})," in the same registry."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"4-verify-a-signed-image",children:"4. Verify a Signed Image"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"cosign verify --key cosign.pub docker.io/myorg/myimage:latest\n"})}),"\n",(0,t.jsxs)(i.p,{children:["For ",(0,t.jsx)(i.strong,{children:"keyless signing"}),", Cosign uses ",(0,t.jsx)(i.strong,{children:"OIDC identity providers"})," like GitHub or Google to sign images and verify identity."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h3,{id:"5-use-with-kubernetes-admission-controller",children:"5. Use with Kubernetes Admission Controller"}),"\n",(0,t.jsxs)(i.p,{children:["Cosign signatures can be used with ",(0,t.jsx)(i.strong,{children:"Sigstore\u2019s policy-controller"})," to enforce that only ",(0,t.jsx)(i.strong,{children:"verified, signed images"})," are admitted into the cluster."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Use ",(0,t.jsx)(i.strong,{children:"keyless signing"})," via OIDC for easier key management and identity traceability."]}),"\n",(0,t.jsxs)(i.li,{children:["Enable ",(0,t.jsx)(i.strong,{children:"Cosign signature verification"})," in CI pipelines and Kubernetes admission policies."]}),"\n",(0,t.jsx)(i.li,{children:"Store public keys securely and version them with your infrastructure."}),"\n",(0,t.jsxs)(i.li,{children:["Validate image signatures during deployment and enforce policies via ",(0,t.jsx)(i.strong,{children:"Gatekeeper"})," or ",(0,t.jsx)(i.strong,{children:"Kyverno"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["Integrate Cosign with tools like ",(0,t.jsx)(i.strong,{children:"GitHub Actions"}),", ",(0,t.jsx)(i.strong,{children:"Tekton"}),", or ",(0,t.jsx)(i.strong,{children:"Flux"})," for automated signing."]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"resources",children:"Resources"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Official Documentation:"})," ",(0,t.jsx)(i.a,{href:"https://docs.sigstore.dev/cosign",children:"https://docs.sigstore.dev/cosign"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"GitHub Repository:"})," ",(0,t.jsx)(i.a,{href:"https://github.com/sigstore/cosign",children:"https://github.com/sigstore/cosign"})]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"references",children:"References"}),"\n",(0,t.jsx)(i.p,{children:"This article is based on information from the following official sources:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://docs.sigstore.dev/cosign/signing/overview/",children:"Cosign Overview"})," - Sigstore Documentation"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://docs.sigstore.dev/policy-controller/overview/",children:"Sigstore Policy Controller"})," - Sigstore Documentation"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/sigstore/cosign",children:"Cosign GitHub Repository"})," - Sigstore Project"]}),"\n"]})]})}function d(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},8453(e,i,s){s.d(i,{R:()=>o,x:()=>c});var n=s(6540);const t={},r=n.createContext(t);function o(e){const i=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);