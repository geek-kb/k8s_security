"use strict";(self.webpackChunkk_8_s_security=self.webpackChunkk_8_s_security||[]).push([[3624],{1813:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"cluster_setup_and_hardening/k8s_security_primitives/k8s_security_primitives","title":"Kubernetes Security Primitives","description":"Exploring the core security primitives in Kubernetes and how to use them to secure your cluster.","source":"@site/docs/cluster_setup_and_hardening/k8s_security_primitives/k8s_security_primitives.md","sourceDirName":"cluster_setup_and_hardening/k8s_security_primitives","slug":"/cluster_setup_and_hardening/k8s_security_primitives/","permalink":"/k8s_security/docs/cluster_setup_and_hardening/k8s_security_primitives/","draft":false,"unlisted":false,"editUrl":"https://github.com/geek-kb/k8s_security/edit/main/docs/cluster_setup_and_hardening/k8s_security_primitives/k8s_security_primitives.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Kubernetes Security Primitives","description":"Exploring the core security primitives in Kubernetes and how to use them to secure your cluster."},"sidebar":"tutorialSidebar","previous":{"title":"Kubelet Security","permalink":"/k8s_security/docs/cluster_setup_and_hardening/kubelet_security"},"next":{"title":"Authentication","permalink":"/k8s_security/docs/cluster_setup_and_hardening/k8s_security_primitives/authentication"}}');var i=r(4848),t=r(8453);const c={sidebar_position:4,title:"Kubernetes Security Primitives",description:"Exploring the core security primitives in Kubernetes and how to use them to secure your cluster."},l="Kubernetes Security Primitives",o={},a=[{value:"\ud83d\udd11 Key Kubernetes Security Primitives",id:"-key-kubernetes-security-primitives",level:2},{value:"1. Role-Based Access Control (RBAC)",id:"1-role-based-access-control-rbac",level:3},{value:"\u2705 Example: Create an RBAC Role",id:"-example-create-an-rbac-role",level:4},{value:"2. Network Policies",id:"2-network-policies",level:3},{value:"\u2705 Example: Deny All Traffic by Default",id:"-example-deny-all-traffic-by-default",level:4},{value:"3. Pod Security Standards (PSS)",id:"3-pod-security-standards-pss",level:3},{value:"\u2705 Example: Pod Security Context",id:"-example-pod-security-context",level:4},{value:"4. Secrets Management",id:"4-secrets-management",level:3},{value:"\u2705 Example: Create a Secret",id:"-example-create-a-secret",level:4},{value:"5. Admission Controllers",id:"5-admission-controllers",level:3},{value:"\u2705 Example: Using PodSecurityPolicy",id:"-example-using-podsecuritypolicy",level:4},{value:"\ud83d\udee1\ufe0f Best Practices for Using Security Primitives",id:"\ufe0f-best-practices-for-using-security-primitives",level:2},{value:"\u2705 Key Takeaway",id:"-key-takeaway",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"kubernetes-security-primitives",children:"Kubernetes Security Primitives"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Kubernetes"})," provides several ",(0,i.jsx)(s.strong,{children:"security primitives"})," that help secure ",(0,i.jsx)(s.strong,{children:"containers"}),", ",(0,i.jsx)(s.strong,{children:"pods"}),", and the ",(0,i.jsx)(s.strong,{children:"cluster infrastructure"}),". These primitives enable organizations to implement ",(0,i.jsx)(s.strong,{children:"security best practices"})," and achieve ",(0,i.jsx)(s.strong,{children:"compliance"})," with security standards."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-key-kubernetes-security-primitives",children:"\ud83d\udd11 Key Kubernetes Security Primitives"}),"\n",(0,i.jsx)(s.h3,{id:"1-role-based-access-control-rbac",children:"1. Role-Based Access Control (RBAC)"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"RBAC"})," manages ",(0,i.jsx)(s.strong,{children:"authorization"})," in Kubernetes by defining ",(0,i.jsx)(s.strong,{children:"roles"})," and ",(0,i.jsx)(s.strong,{children:"permissions"})," for ",(0,i.jsx)(s.strong,{children:"users"}),", ",(0,i.jsx)(s.strong,{children:"groups"}),", and ",(0,i.jsx)(s.strong,{children:"service accounts"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"-example-create-an-rbac-role",children:"\u2705 Example: Create an RBAC Role"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:'apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: pod-reader\nrules:\n- apiGroups: [""]\n  resources: ["pods"]\n  verbs: ["get", "list", "watch"]\n'})}),"\n",(0,i.jsx)(s.h3,{id:"2-network-policies",children:"2. Network Policies"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Network Policies"})," control ",(0,i.jsx)(s.strong,{children:"traffic flow"})," between ",(0,i.jsx)(s.strong,{children:"pods"})," and ",(0,i.jsx)(s.strong,{children:"external services"}),", enabling ",(0,i.jsx)(s.strong,{children:"network segmentation"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"-example-deny-all-traffic-by-default",children:"\u2705 Example: Deny All Traffic by Default"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n"})}),"\n",(0,i.jsx)(s.h3,{id:"3-pod-security-standards-pss",children:"3. Pod Security Standards (PSS)"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"PSS"})," enforce ",(0,i.jsx)(s.strong,{children:"security contexts"})," for ",(0,i.jsx)(s.strong,{children:"pods"})," to control ",(0,i.jsx)(s.strong,{children:"privilege levels"}),", ",(0,i.jsx)(s.strong,{children:"capabilities"}),", and ",(0,i.jsx)(s.strong,{children:"resource access"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"-example-pod-security-context",children:"\u2705 Example: Pod Security Context"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    securityContext:\n      runAsUser: 1000\n      runAsGroup: 3000\n      allowPrivilegeEscalation: false\n      capabilities:\n        drop:\n        - ALL\n"})}),"\n",(0,i.jsx)(s.h3,{id:"4-secrets-management",children:"4. Secrets Management"}),"\n",(0,i.jsxs)(s.p,{children:["Kubernetes ",(0,i.jsx)(s.strong,{children:"Secrets"})," allow storing ",(0,i.jsx)(s.strong,{children:"sensitive information"})," such as ",(0,i.jsx)(s.strong,{children:"passwords"}),", ",(0,i.jsx)(s.strong,{children:"API keys"}),", and ",(0,i.jsx)(s.strong,{children:"certificates"})," securely."]}),"\n",(0,i.jsx)(s.h4,{id:"-example-create-a-secret",children:"\u2705 Example: Create a Secret"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"kubectl create secret generic db-secret --from-literal=username=admin --from-literal=password=supersecret\n"})}),"\n",(0,i.jsx)(s.h3,{id:"5-admission-controllers",children:"5. Admission Controllers"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Admission controllers"})," intercept ",(0,i.jsx)(s.strong,{children:"API requests"})," and can ",(0,i.jsx)(s.strong,{children:"enforce policies"}),", ",(0,i.jsx)(s.strong,{children:"mutate objects"}),", or ",(0,i.jsx)(s.strong,{children:"deny requests"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"-example-using-podsecuritypolicy",children:"\u2705 Example: Using PodSecurityPolicy"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"apiVersion: policy/v1beta1\nkind: PodSecurityPolicy\nmetadata:\n  name: restricted\nspec:\n  privileged: false\n  runAsUser:\n    rule: MustRunAsNonRoot\n  fsGroup:\n    rule: MustRunAs\n    ranges:\n    - min: 1\n      max: 65535\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"\ufe0f-best-practices-for-using-security-primitives",children:"\ud83d\udee1\ufe0f Best Practices for Using Security Primitives"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Apply the Principle of Least Privilege:"})," Define ",(0,i.jsx)(s.strong,{children:"roles and permissions"})," with ",(0,i.jsx)(s.strong,{children:"minimal privileges"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Enforce Network Segmentation:"})," Use ",(0,i.jsx)(s.strong,{children:"Network Policies"})," to ",(0,i.jsx)(s.strong,{children:"restrict traffic"})," between ",(0,i.jsx)(s.strong,{children:"pods"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Avoid Privileged Containers:"})," Configure ",(0,i.jsx)(s.strong,{children:"Pod Security Standards"})," to ",(0,i.jsx)(s.strong,{children:"block privileged containers"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Secure Secrets Management:"})," Avoid ",(0,i.jsx)(s.strong,{children:"plaintext secrets"})," and integrate with ",(0,i.jsx)(s.strong,{children:"external secret management tools"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Automate Policy Enforcement:"})," Implement ",(0,i.jsx)(s.strong,{children:"admission controllers"})," and ",(0,i.jsx)(s.strong,{children:"compliance tools"})," like ",(0,i.jsx)(s.strong,{children:"OPA Gatekeeper"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-key-takeaway",children:"\u2705 Key Takeaway"}),"\n",(0,i.jsxs)(s.p,{children:["Kubernetes ",(0,i.jsx)(s.strong,{children:"security primitives"})," provide ",(0,i.jsx)(s.strong,{children:"strong foundations"})," for ",(0,i.jsx)(s.strong,{children:"cluster security"}),". By ",(0,i.jsx)(s.strong,{children:"leveraging these tools"})," and ",(0,i.jsx)(s.strong,{children:"following best practices"}),", organizations can ",(0,i.jsx)(s.strong,{children:"enhance security"}),", ",(0,i.jsx)(s.strong,{children:"reduce risks"}),", and ",(0,i.jsx)(s.strong,{children:"maintain compliance"})," with ",(0,i.jsx)(s.strong,{children:"security standards"}),"."]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>c,x:()=>l});var n=r(6540);const i={},t=n.createContext(i);function c(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);